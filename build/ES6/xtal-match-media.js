import{XtallatX}from"./node_modules/xtal-latx/xtal-latx.js";const mediaQueryString="media-query-string",matchesMediaQuery="matches-media-query";class XtalMatchMedia extends XtallatX(HTMLElement){static get is(){return"xtal-match-media"}get mediaQueryString(){return this._mediaQueryString}set mediaQueryString(val){this.attr(mediaQueryString,val)}get matchesMediaQuery(){return this._matchesMediaQuery}set matchesMediaQuery(val){this.attr(matchesMediaQuery,val,"")}static get observedAttributes(){return super.observedAttributes.concat([mediaQueryString])}attributeChangedCallback(name,oldValue,newValue){switch(name){case mediaQueryString:this.disconnect();this._mediaQueryString=newValue;if(null!==newValue){this._mql=window.matchMedia(this._mediaQueryString);this._boundMediaQueryHandler=this.handleMediaQueryChange.bind(this);this.connect();this.updateValue(this._mql.matches)}break;case matchesMediaQuery:this._matchesMediaQuery=null!=newValue;break;}}connect(){this._mql.addListener(this._boundMediaQueryHandler)}disconnect(){if(this._mql)this._mql.removeListener(this._boundMediaQueryHandler)}handleMediaQueryChange(e){this.updateValue(e.matches)}updateValue(val){this.value=val;this.matchesMediaQuery=val;this.de(matchesMediaQuery,{value:val})}connectedCallback(){this._upgradeProperties(["mediaQueryString"])}disconnectedCallback(){this.disconnect()}}customElements.define(XtalMatchMedia.is,XtalMatchMedia);